#include "resample.h"

void Upsample(matrix X, matrix Y/*, int size_x, int size_c*/){
	//int tam_h = 42;
	
	vector h = makev(42);
	double h_tmp[] = {0,
		-1.4311e-18,-0.0021018,3.7067e-18,0.0050153,
		-6.9847e-18,-0.0097846,1.1207e-17,0.017104,
		-1.6174e-17,-0.027965,2.1551e-17,0.044023,
		-2.6905e-17,-0.068645,3.1753e-17,0.11052,
		-3.5622e-17,-0.20176,3.8119e-17,0.63307,1,
	0.63307,3.8119e-17,-0.20176,-3.5622e-17,0.11052,
	3.1753e-17,-0.068645,-2.6905e-17,0.044023,2.1551e-17,
	-0.027965,-1.6174e-17,0.017104,1.1207e-17,-0.0097846,
	-6.9847e-18,0.0050153,3.7067e-18,-0.0021018,-1.4311e-18 };
	 h.v = h_tmp;
	int f, c, i;
	
	
	//Rellena con 0's
	
	
	for(f = 0; f < Y.x; f++){
	i = 0;
		for(c = 0; c < Y.y; c = c+2){
			Y.m[f][c] = X.m[f][i]; 
			i++;
		}
	}
	
	//Aplica filtro
	
	for(i = 0; i < Y.x; i++){
		Filter_B(h, Y.m[i], Y.y, Y.m[i]);
	}
	
}

void Downsample(matrix X, matrix Y/*, int size_x, int size_c*/){
	
	int f, c, i;
	//int tam_h = 43;
	vector h = zerov(43);
	double  h_tmp[] = {0,0,-7.1553e-19,-0.0010509,1.8533e-18,0.0025077,
	-3.4923e-18,-0.0048923,5.6036e-18,0.0085521,-8.0868e-18,
	-0.013983,1.0776e-17,0.022012,-1.3453e-17,-0.034322,1.5876e-17,
	0.05526,-1.7811e-17,-0.10088,1.9059e-17,0.31654,0.5,0.31654,1.9059e-17,
	-0.10088,-1.7811e-17,0.05526,1.5876e-17,-0.034322,-1.3453e-17,0.022012,
	1.0776e-17,-0.013983,-8.0868e-18,0.0085521,5.6036e-18,-0.0048923,-3.4923e-18,
	0.0025077,1.8533e-18,-0.0010509,-7.1553e-19 };
	
	h.v = h_tmp;
	//Aplica filtro
	for(i = 0; i < X.x; i++){
		Filter_B(h, X.m[i], X.y, X.m[i]);
	}
	//quita muestras
	for(f = 0; f < X.x; f++){
	i = 0;
		for(c = 0; c < X.y; c = c+2){
			Y.m[f][i] = X.m[f][c]; 
			i++;
		}
	}
}
